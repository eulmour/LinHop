# macro(SET_OPTION option value)
#   set(${option} ${value} CACHE INTERNAL "" FORCE)
# endmacro()

if (CMAKE_C_COMPILER_ID STREQUAL "GNU")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wno-deprecated-declarations -Wno-error=deprecated-declarations")
elseif(CMAKE_C_COMPILER_ID MATCHES "Clang")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wno-deprecated-declarations -Wno-error=deprecated-declarations -Wno-language-extension-token -Wno-error=language-extension-token")
elseif(CMAKE_C_COMPILER_ID STREQUAL "MSVC")
endif()

if (CMAKE_C_COMPILER_ID STREQUAL "GNU" OR CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
	set(CMAKE_THREAD_LIBS_INIT "-lpthread")
	set(CMAKE_HAVE_THREADS_LIBRARY 1)
	set(CMAKE_USE_WIN32_THREADS_INIT 0)
	set(CMAKE_USE_PTHREADS_INIT 1)
	set(THREADS_PREFER_PTHREAD_FLAG ON)
endif()

add_subdirectory ("glm")
add_subdirectory ("freetype")
add_subdirectory ("miniaudio")

if (NOT EMSCRIPTEN AND NOT ANDROID)
	add_subdirectory ("glew")
	add_subdirectory ("glfw")
	add_subdirectory ("stb_image")
endif()

if (ANDROID)
	add_subdirectory ("android")
	add_subdirectory ("stb_image")
endif()